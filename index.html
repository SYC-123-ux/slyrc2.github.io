<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æå¤§å¤«&å­™å·¥çš„ä¸“å±å°çª ğŸ’“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", å¾®è½¯é›…é»‘, sans-serif;
        }
        body {
            background-color: #fff5f7;
            padding: 20px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 100%;
            max-width: 900px;
            gap: 20px;
            display: flex;
            flex-direction: column;
        }
        .page-title {
            text-align: center;
            color: #e66465;
            font-size: 24px;
            font-weight: bold;
        }
        .section {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 15px;
            width: 100%;
        }
        .row {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
        }

        /* æ—¥å† */
        .time-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
            text-align: center;
            border-left: 3px solid #e66465;
            padding-left: 15px;
        }
        .calendar-box {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .calendar-square {
            width: 90px;
            height: 90px;
            background: linear-gradient(145deg, #e66465, #ff8a8a);
            border-radius: 16px;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .calendar-month {
            font-size: 14px;
            margin-bottom: 4px;
        }
        .calendar-day {
            font-size: 36px;
            font-weight: bold;
            line-height: 1;
        }
        .calendar-week {
            font-size: 12px;
            margin-top: 4px;
        }
        .calendar-date-text {
            font-size: 16px;
            color: #555;
        }
        .love-time {
            text-align: center;
        }
        .love-time-text {
            font-size: 16px;
            color: #666;
        }
        .love-time-num {
            font-size: 24px;
            font-weight: bold;
            color: #e66465;
        }

        /* æŒ‰é’® */
        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
        }
        .love-btn {
            background-color: #e66465;
            color: #fff;
        }
        .meditate-yes {
            background-color: #67c23a;
            color: #fff;
        }
        .meditate-no {
            background-color: #f56c6c;
            color: #fff;
        }
        .meditate-btn-group {
            display: flex;
            gap: 10px;
        }
        .counter {
            font-size: 22px;
            font-weight: bold;
            color: #e66465;
        }
        .meditate-title {
            color: #e66465;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        /* ç›¸å†Œ */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
        }
        .photo-item {
            aspect-ratio: 1/1;
            border-radius: 8px;
            overflow: hidden;
        }
        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* éŸ³é¢‘ */
        .audio-list {
            list-style: none;
            max-height: 250px;
            overflow-y: auto;
        }
        .audio-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
            padding: 8px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 6px;
        }
        .audio-item audio {
            width: 100%;
        }

        .img-box {
            width: 100%;
            aspect-ratio: 1/1;
            border: 2px dashed #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #fafafa;
            overflow: hidden;
        }
        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .love-check-section,
        .meditate-check-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .footer {
            text-align: center;
            margin-top: 15px;
            color: #999;
            font-size: 12px;
        }

        /* ç”µè„‘ç‰ˆæ¢å¤ä¸¤åˆ— */
        @media (min-width: 600px) {
            .row {
                flex-direction: row;
            }
            .time-section {
                flex-direction: row;
                justify-content: space-between;
                text-align: left;
            }
            .love-time {
                text-align: right;
            }
            .page-title {
                font-size: 32px;
            }
            .section {
                padding: 20px;
            }
            .audio-item {
                flex-direction: row;
                align-items: center;
            }
            .audio-item audio {
                width: 140px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="page-title">æå¤§å¤« & å­™å·¥ çš„ä¸“å±å°çª ğŸ’“</h1>

        <div class="section time-section">
            <div class="calendar-box">
                <div class="calendar-square" id="calendarSquare">
                    <div class="calendar-month" id="calendarMonth"></div>
                    <div class="calendar-day" id="calendarDay"></div>
                    <div class="calendar-week" id="calendarWeek"></div>
                </div>
                <div class="calendar-date-text" id="fullDate"></div>
            </div>
            <div class="love-time">
                <div class="love-time-text">æˆ‘ä»¬åœ¨ä¸€èµ·å•¦</div>
                <div class="love-time-num" id="loveDays"></div>
            </div>
        </div>

        <div class="row">
            <div class="section love-check-section">
                <div class="img-box">
                    <img src="nahan.png" alt="å‘Šç™½æ’å›¾">
                </div>
                <button class="btn love-btn" id="loveBtn">ä»Šå¤©è¯´æˆ‘çˆ±ä½ äº†å˜› âœ¨</button>
            </div>

            <div class="section meditate-check-section">
                <div class="meditate-title">ä»Šå¤©æ‰“åäº†å— ğŸ§˜</div>
                <div class="img-box">
                    <img src="dazuo2.png" id="meditateImg">
                </div>
                <div class="meditate-btn-group">
                    <button class="btn meditate-yes" id="meditateYes">æ‰“åäº† âœ”ï¸</button>
                    <button class="btn meditate-no" id="meditateNo">æ²¡æœ‰æ‰“å âŒ</button>
                </div>
                <div class="counter">ç´¯è®¡æ‰“åï¼š<span id="meditateCount">0</span> æ¬¡</div>
            </div>
        </div>

        <div class="row">
            <div class="section photo-section">
                <h3 class="meditate-title">ğŸ“¸ æˆ‘ä»¬çš„ç›¸å†Œ</h3>
                <div class="photo-grid" id="photoGrid"></div>
            </div>

            <div class="section audio-section">
                <h3 class="meditate-title">ğŸµ æˆ‘ä»¬çš„å½•éŸ³</h3>
                <ul class="audio-list" id="audioList"></ul>
            </div>
        </div>

        <div class="footer">æ„¿æˆ‘ä»¬å²å²å¹´å¹´ï¼Œæœæœæš®æš® ğŸ’Œ</div>
    </div>

    <script>
        const photoFiles = [
            'photo1.jpg','photo2.jpg','photo3.jpg','photo4.jpg','photo5.jpg','photo6.jpg'
        ];
        const audioFiles = [
            'audio1.mp3','audio2.mp3','audio3.mp3'
        ];

        const loveStart = new Date(2025, 4, 14);
        const calendarMonth = document.getElementById('calendarMonth');
        const calendarDay = document.getElementById('calendarDay');
        const calendarWeek = document.getElementById('calendarWeek');
        const fullDateEl = document.getElementById('fullDate');
        const loveDaysEl = document.getElementById('loveDays');

        function updateCalendar() {
            const now = new Date();
            const monthArr = ['ä¸€æœˆ','äºŒæœˆ','ä¸‰æœˆ','å››æœˆ','äº”æœˆ','å…­æœˆ','ä¸ƒæœˆ','å…«æœˆ','ä¹æœˆ','åæœˆ','åä¸€æœˆ','åäºŒæœˆ'];
            const weekArr = ['å‘¨æ—¥','å‘¨ä¸€','å‘¨äºŒ','å‘¨ä¸‰','å‘¨å››','å‘¨äº”','å‘¨å…­'];
            calendarMonth.innerText = monthArr[now.getMonth()];
            calendarDay.innerText = now.getDate();
            calendarWeek.innerText = weekArr[now.getDay()];
            fullDateEl.innerText = now.getFullYear() + 'å¹´' + String(now.getMonth()+1).padStart(2,0) + 'æœˆ' + String(now.getDate()).padStart(2,0) + 'æ—¥';
        }

        function calculateLoveDays() {
            const now = new Date();
            const diff = Math.floor((now - loveStart) / (1000*60*60*24));
            return diff + ' å¤©';
        }

        function initTimeSection() {
            updateCalendar();
            loveDaysEl.innerText = calculateLoveDays();
            setInterval(()=>{ loveDaysEl.innerText = calculateLoveDays() }, 1000);
            setInterval(updateCalendar, 60000);
        }

        // æˆ‘çˆ±ä½ çƒŸèŠ±
        const loveBtn = document.getElementById('loveBtn');
        loveBtn.onclick = ()=>{
            for(let i=0;i<20;i++){
                let s = document.createElement('span');
                s.innerText = 'âœ¨';
                s.style.position = 'absolute';
                s.style.left = Math.random()*100+'%';
                s.style.top = Math.random()*100+'%';
                s.style.color = '#ff69b4';
                s.style.fontSize = '20px';
                s.style.pointerEvents = 'none';
                s.style.animation = 'a 1s forwards';
                loveBtn.appendChild(s);
                setTimeout(()=>s.remove(),1000);
            }
            let t = document.createElement('span');
            t.innerText = 'æˆ‘çˆ±ä½ ';
            t.style.position = 'absolute';
            t.style.color = '#ff69b4';
            t.style.fontSize = '24px';
            t.style.fontWeight = 'bold';
            t.style.whiteSpace = 'nowrap';
            t.style.left = '50%';
            t.style.top = '-30px';
            t.style.transform = 'translateX(-50%)';
            t.style.animation = 'b 1.2s forwards';
            loveBtn.appendChild(t);
            setTimeout(()=>t.remove(),1200);
        }

        let count = localStorage.getItem('meditateCount')||0;
        const meditateCountEl = document.getElementById('meditateCount');
        meditateCountEl.innerText = count;
        document.getElementById('meditateYes').onclick = ()=>{
            count++;
            meditateCountEl.innerText = count;
            localStorage.setItem('meditateCount',count);
        };
        document.getElementById('meditateNo').onclick = ()=>{
            if(count>0){count--;meditateCountEl.innerText=count;localStorage.setItem('meditateCount',count)}
        };

        // ç›¸å†Œ
        const photoGrid = document.getElementById('photoGrid');
        photoFiles.forEach(f=>{
            let d = document.createElement('div');
            d.className = 'photo-item';
            let img = document.createElement('img');
            img.src = 'images/'+f;
            d.appendChild(img);
            photoGrid.appendChild(d);
        });

        // éŸ³é¢‘
        const audioList = document.getElementById('audioList');
        audioFiles.forEach(f=>{
            let li = document.createElement('li');
            li.className = 'audio-item';
            let n = document.createElement('span');
            n.innerText = f;
            let a = document.createElement('audio');
            a.controls = true;
            a.src = 'audio/'+f;
            li.appendChild(n);
            li.appendChild(a);
            audioList.appendChild(li);
        });

        document.addEventListener('DOMContentLoaded',()=>{
            initTimeSection();
        });

        // ç®€å•åŠ¨ç”»
        let style = document.createElement('style');
        style.innerText = `
        @keyframes a{0%{transform:scale(1);opacity:1}100%{transform:scale(0);opacity:0}}
        @keyframes b{0%{transform:translateX(-50%) scale(0);opacity:0}50%{transform:translateX(-50%) scale(1.2);opacity:1}100%{transform:translateX(-50%) scale(1);opacity:0}}
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
