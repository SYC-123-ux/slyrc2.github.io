<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æå¤§å¤«&å­™å·¥çš„ä¸“å±å°çª ğŸ’“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", å¾®è½¯é›…é»‘, sans-serif;
        }
        body {
            background-color: #fff5f7; /* æŸ”å’Œæµ…ç²‰èƒŒæ™¯ */
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            width: 900px; /* ç¨å¾®åŠ å®½ä»¥é€‚åº”ä¸¤åˆ—å¸ƒå±€ */
            gap: 30px;
            display: flex;
            flex-direction: column;
        }
        .page-title {
            text-align: center;
            color: #e66465;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        /* é€šç”¨æ¿å—æ ·å¼ */
        .section {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 20px;
            width: 100%;
        }
        /* ä¸¤åˆ—å¸ƒå±€çš„è¡Œ */
        .row {
            display: flex;
            gap: 20px;
            width: 100%;
        }
        .row .section {
            flex: 1; /* ç­‰å®½ */
            min-width: 0; /* é˜²æ­¢flexæº¢å‡º */
        }

        /* -------------- æ¿å—1ï¼šæ–¹å½¢æ—¥å† + ç›¸æ‹æ—¶é•¿ -------------- */
        .time-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 3px solid #e66465;
            padding-left: 20px;
        }
        .calendar-box {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .calendar-square {
            width: 100px;
            height: 100px;
            background: linear-gradient(145deg, #e66465, #ff8a8a);
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(230, 100, 101, 0.3);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            transition: transform 0.3s ease;
        }
        .calendar-square:hover {
            transform: scale(1.05);
        }
        .calendar-month {
            font-size: 16px;
            font-weight: 300;
            letter-spacing: 2px;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .calendar-day {
            font-size: 42px;
            font-weight: bold;
            line-height: 1;
            text-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .calendar-week {
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.9;
        }
        .calendar-date-text {
            font-size: 20px;
            color: #555;
            font-weight: 500;
        }
        .love-time {
            text-align: right;
        }
        .love-time-text {
            font-size: 18px;
            color: #666;
            margin-bottom: 5px;
        }
        .love-time-num {
            font-size: 28px;
            font-weight: bold;
            color: #e66465;
        }

        /* -------------- æ¿å—2ï¼šæˆ‘çˆ±ä½ æ‰“å¡ -------------- */
        .love-check-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .img-box {
            width: 100%;
            aspect-ratio: 1/1;
            border: 2px dashed #ddd;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
            background-color: #fafafa;
            overflow: hidden;
        }
        .img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: visible;
        }
        .btn:hover {
            transform: scale(1.05);
        }
        .love-btn {
            background-color: #e66465;
            color: #fff;
        }
        .love-btn:active {
            background-color: #d45556;
        }

        /* çƒŸèŠ±ç‰¹æ•ˆ */
        .star {
            position: absolute;
            color: var(--star-color);
            font-size: 24px;
            pointer-events: none;
            animation: starExplode 1.3s ease-out forwards, starTwinkle 0.15s infinite alternate;
            z-index: 99;
        }
        .love-text {
            position: absolute;
            color: #ff69b4;
            font-size: 36px;
            font-weight: bold;
            text-shadow: 0 0 12px #ff69b4, 0 0 24px #ff87b8, 0 0 36px #ffa7c8;
            pointer-events: none;
            animation: textBloom 1.6s ease-out forwards, textTwinkle 0.2s infinite alternate;
            left: 50%;
            top: -80px;
            transform: translateX(-50%);
            z-index: 99;
        }
        @keyframes starExplode {
            0% { opacity: 1; transform: translate(0, 0) rotate(0deg) scale(0.8); }
            20% { transform: translate(0, 0) rotate(calc(random() * 360deg)) scale(2.5); opacity: 1; }
            100% { transform: translate(calc(random() * 500px - 250px), calc(random() * 350px * -1 - 50px)) rotate(calc(random() * 1080deg)) scale(0.2); opacity: 0; }
        }
        @keyframes textBloom {
            0% { opacity: 0; transform: translateX(-50%) scale(0); text-shadow: 0 0 0 #ff69b4; }
            35% { opacity: 1; transform: translateX(-50%) scale(2); text-shadow: 0 0 18px #ff69b4, 0 0 36px #ff87b8, 0 0 54px #ffa7c8; }
            70% { opacity: 1; transform: translateX(-50%) scale(1.3); text-shadow: 0 0 12px #ff69b4, 0 0 24px #ff87b8; }
            100% { opacity: 0; transform: translateX(-50%) scale(0.6); text-shadow: 0 0 0 #ff69b4; }
        }
        @keyframes starTwinkle {
            0% { opacity: 0.7; }
            100% { opacity: 1; }
        }
        @keyframes textTwinkle {
            0% { opacity: 0.85; }
            100% { opacity: 1; }
        }

        /* -------------- æ¿å—3ï¼šæ‰“åæ‰“å¡ -------------- */
        .meditate-check-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        .meditate-title {
            color: #e66465;
            font-size: 22px;
            font-weight: bold;
        }
        .meditate-btn-group {
            display: flex;
            gap: 15px;
            margin-top: 5px;
        }
        .meditate-yes {
            background-color: #67c23a;
            color: #fff;
        }
        .meditate-yes:active {
            background-color: #5eba2f;
        }
        .meditate-no {
            background-color: #f56c6c;
            color: #fff;
        }
        .meditate-no:active {
            background-color: #f35858;
        }
        .counter {
            font-size: 28px;
            font-weight: bold;
            color: #e66465;
            margin-top: 5px;
        }

        /* -------------- æ¿å—4ï¼šç›¸å†Œ -------------- */
        .photo-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-top: 10px;
        }
        .photo-item {
            aspect-ratio: 1/1;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }
        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        .photo-item img:hover {
            transform: scale(1.1);
        }

        /* -------------- æ¿å—5ï¼šå½•éŸ³ -------------- */
        .audio-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .audio-list {
            list-style: none;
            margin-top: 10px;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 5px;
        }
        .audio-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 8px;
        }
        .audio-name {
            flex: 1;
            font-size: 14px;
            color: #555;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .audio-item audio {
            width: 140px;
            height: 40px;
        }

        /* åº•éƒ¨å½©è›‹ */
        .footer {
            text-align: center;
            margin-top: 20px;
            color: #999;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- æ ‡é¢˜ -->
        <h1 class="page-title">æå¤§å¤« & å­™å·¥ çš„ä¸“å±å°çª ğŸ’“</h1>

        <!-- ç¬¬ä¸€è¡Œï¼šæ—¥æœŸ + ç›¸æ‹æ—¶é•¿ -->
        <div class="section time-section">
            <div class="calendar-box">
                <div class="calendar-square" id="calendarSquare">
                    <div class="calendar-month" id="calendarMonth">äº”æœˆ</div>
                    <div class="calendar-day" id="calendarDay">20</div>
                    <div class="calendar-week" id="calendarWeek">å‘¨äºŒ</div>
                </div>
                <div class="calendar-date-text" id="fullDate"></div>
            </div>
            <div class="love-time">
                <div class="love-time-text">æˆ‘ä»¬åœ¨ä¸€èµ·å•¦</div>
                <div class="love-time-num" id="loveDays"></div>
            </div>
        </div>

        <!-- ç¬¬äºŒè¡Œï¼šæˆ‘çˆ±ä½ æ‰“å¡ + æ‰“åæ‰“å¡ -->
        <div class="row">
            <!-- æˆ‘çˆ±ä½ æ‰“å¡ -->
            <div class="section love-check-section">
                <div class="img-box">
                    <img src="nahan.png" alt="å‘Šç™½æ’å›¾">
                </div>
                <button class="btn love-btn" id="loveBtn">ä»Šå¤©è¯´æˆ‘çˆ±ä½ äº†å˜› âœ¨</button>
            </div>

            <!-- æ‰“åæ‰“å¡ -->
            <div class="section meditate-check-section">
                <div class="meditate-title">ä»Šå¤©æ‰“åäº†å— ğŸ§˜</div>
                <div class="img-box">
                    <img src="dazuo2.png" alt="æ‰“åçŠ¶æ€å›¾" id="meditateImg">
                </div>
                <div class="meditate-btn-group">
                    <button class="btn meditate-yes" id="meditateYes">æ‰“åäº† âœ”ï¸</button>
                    <button class="btn meditate-no" id="meditateNo">æ²¡æœ‰æ‰“å âŒ</button>
                </div>
                <div class="counter">ç´¯è®¡æ‰“åï¼š<span id="meditateCount">0</span> æ¬¡</div>
            </div>
        </div>

        <!-- ç¬¬ä¸‰è¡Œï¼šç›¸å†Œ + å½•éŸ³ -->
        <div class="row">
            <!-- ç›¸å†Œæ¨¡å— -->
            <div class="section photo-section">
                <h3 class="meditate-title">ğŸ“¸ æˆ‘ä»¬çš„ç›¸å†Œ</h3>
                <div class="photo-grid" id="photoGrid">
                    <!-- JSåŠ¨æ€ç”Ÿæˆç…§ç‰‡ -->
                </div>
            </div>

            <!-- å½•éŸ³æ¨¡å— -->
            <div class="section audio-section">
                <h3 class="meditate-title">ğŸµ æˆ‘ä»¬çš„å½•éŸ³</h3>
                <ul class="audio-list" id="audioList">
                    <!-- JSåŠ¨æ€ç”Ÿæˆå½•éŸ³åˆ—è¡¨ -->
                </ul>
            </div>
        </div>

        <!-- åº•éƒ¨å½©è›‹ -->
        <div class="footer">æ„¿æˆ‘ä»¬å²å²å¹´å¹´ï¼Œæœæœæš®æš® ğŸ’Œ</div>
    </div>

    <script>
        // ==================== é…ç½®åŒºï¼šè¯·æ ¹æ®å®é™…æ–‡ä»¶ä¿®æ”¹ ====================
        // ç…§ç‰‡æ–‡ä»¶ååˆ—è¡¨ï¼ˆæ”¾åœ¨ images/ æ–‡ä»¶å¤¹ä¸‹ï¼‰
        const photoFiles = [
            'photo1.jpg',
            'photo2.jpg',
            'photo3.jpg',
            'photo4.jpg',
            'photo5.jpg',
            'photo6.jpg'
            // ç»§ç»­æ·»åŠ æ›´å¤šç…§ç‰‡...
        ];

        // å½•éŸ³æ–‡ä»¶ååˆ—è¡¨ï¼ˆæ”¾åœ¨ audio/ æ–‡ä»¶å¤¹ä¸‹ï¼‰
        const audioFiles = [
            'audio1.mp3',
            'audio2.mp3',
            'audio3.mp3'
            // ç»§ç»­æ·»åŠ æ›´å¤šå½•éŸ³...
        ];
        // ==================== é…ç½®ç»“æŸ ====================

        // ---------- æ¿å—1ï¼šæ—¥æœŸ + ç›¸æ‹æ—¶é•¿ ----------
        const loveStart = new Date(2025, 4, 14); // 2025å¹´5æœˆ14æ—¥
        const calendarMonth = document.getElementById('calendarMonth');
        const calendarDay = document.getElementById('calendarDay');
        const calendarWeek = document.getElementById('calendarWeek');
        const fullDateEl = document.getElementById('fullDate');
        const loveDaysEl = document.getElementById('loveDays');

        function updateCalendar() {
            const now = new Date();
            const monthArr = ['ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'åä¸€æœˆ', 'åäºŒæœˆ'];
            const month = monthArr[now.getMonth()];
            const day = now.getDate();
            const weekArr = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            const week = weekArr[now.getDay()];
            calendarMonth.innerText = month;
            calendarDay.innerText = day;
            calendarWeek.innerText = week;
            const year = now.getFullYear();
            const monthNum = String(now.getMonth() + 1).padStart(2, '0');
            const dayNum = String(day).padStart(2, '0');
            fullDateEl.innerText = `${year}å¹´${monthNum}æœˆ${dayNum}æ—¥`;
        }

        function calculateLoveDays() {
            const now = new Date();
            const diffTime = now - loveStart;
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            return `${diffDays} å¤©`;
        }

        function initTimeSection() {
            updateCalendar();
            loveDaysEl.innerText = calculateLoveDays();
            setInterval(() => {
                loveDaysEl.innerText = calculateLoveDays();
            }, 1000);
            // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ—¥å†ï¼ˆè·¨å¤©æ›´æ–°ï¼‰
            setInterval(() => {
                updateCalendar();
            }, 60000);
        }

        // ---------- æ¿å—2ï¼šæˆ‘çˆ±ä½ æ‰“å¡ (çƒŸèŠ±) ----------
        const loveBtn = document.getElementById('loveBtn');
        const starChars = ['â˜…', 'âœ¨', 'ğŸ’«', 'â­', 'ğŸ’–', 'ğŸ’', 'âœ¦', 'âœ§', 'â€'];
        const starColors = ['#ffd700', '#ff69b4', '#ffffff', '#6495ED', '#ff99cc', '#fffacd', '#9370db'];

        loveBtn.addEventListener('click', () => {
            for (let i = 0; i < 25; i++) {
                createStar(loveBtn);
            }
            setTimeout(() => {
                createLoveText(loveBtn);
            }, 200);
        });

        function createStar(btn) {
            const star = document.createElement('span');
            star.innerText = starChars[Math.floor(Math.random() * starChars.length)];
            star.className = 'star';
            star.style.setProperty('--star-color', starColors[Math.floor(Math.random() * starColors.length)]);
            star.style.left = `50%`;
            star.style.top = `50%`;
            star.style.transform = `translate(-50%, -50%)`;
            btn.appendChild(star);
            setTimeout(() => star.remove(), 1300);
        }

        function createLoveText(btn) {
            const text = document.createElement('span');
            text.innerText = 'æˆ‘çˆ±ä½ ';
            text.className = 'love-text';
            btn.appendChild(text);
            setTimeout(() => text.remove(), 1600);
        }

        // ---------- æ¿å—3ï¼šæ‰“åæ‰“å¡ ----------
        const meditateYes = document.getElementById('meditateYes');
        const meditateNo = document.getElementById('meditateNo');
        const meditateCountEl = document.getElementById('meditateCount');
        const meditateImg = document.getElementById('meditateImg');
        let count = localStorage.getItem('meditateCount') ? Number(localStorage.getItem('meditateCount')) : 0;
        meditateCountEl.innerText = count;

        meditateYes.addEventListener('click', () => {
            count++;
            meditateCountEl.innerText = count;
            localStorage.setItem('meditateCount', count);
            meditateImg.src = 'dazuo1.png';
            setTimeout(() => {
                meditateImg.src = 'dazuo2.png';
            }, 500);
        });

        meditateNo.addEventListener('click', () => {
            if (count > 0) {
                count--;
                meditateCountEl.innerText = count;
                localStorage.setItem('meditateCount', count);
                alert('æ²¡å…³ç³» ğŸ˜Š æ˜å¤©ç»§ç»­åŠ æ²¹ï½');
            } else {
                alert('è®¡æ•°å·²ç»æ˜¯0å•¦ ğŸš« ä¸èƒ½å†å‡å’¯ï½');
            }
        });

        // ---------- æ¿å—4ï¼šç›¸å†Œ ----------
        const photoGrid = document.getElementById('photoGrid');
        function renderPhotos() {
            photoGrid.innerHTML = ''; // æ¸…ç©º
            photoFiles.forEach(filename => {
                const item = document.createElement('div');
                item.className = 'photo-item';
                const img = document.createElement('img');
                img.src = `images/${filename}`;
                img.alt = filename;
                img.onerror = () => { img.style.display = 'none'; }; // å›¾ç‰‡åŠ è½½å¤±è´¥éšè—ï¼ˆå¯é€‰ï¼‰
                item.appendChild(img);
                photoGrid.appendChild(item);
            });
        }

        // ---------- æ¿å—5ï¼šå½•éŸ³ ----------
        const audioList = document.getElementById('audioList');
        function renderAudio() {
            audioList.innerHTML = '';
            audioFiles.forEach(filename => {
                const li = document.createElement('li');
                li.className = 'audio-item';
                const nameSpan = document.createElement('span');
                nameSpan.className = 'audio-name';
                nameSpan.innerText = filename;
                const audio = document.createElement('audio');
                audio.controls = true;
                audio.src = `audio/${filename}`;
                audio.preload = 'none'; // ä¸é¢„åŠ è½½
                li.appendChild(nameSpan);
                li.appendChild(audio);
                audioList.appendChild(li);
            });
        }

        // åˆå§‹åŒ–æ‰€æœ‰
        window.onload = function() {
            initTimeSection();
            renderPhotos();
            renderAudio();
        };
    </script>
</body>
</html>